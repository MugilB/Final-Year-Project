<div class="voting-chart-container">
  <div class="chart-controls">
    <select 
      [(ngModel)]="selectedElectionId" 
      (change)="onElectionChange()"
      class="election-select">
      <option value="">Select Election</option>
      <option *ngFor="let election of elections" [value]="election.electionId">
        {{ election.name }}
      </option>
    </select>
  </div>

  <div class="chart-content">
    <div *ngIf="isLoading" class="loading-state">
      <div class="spinner"></div>
      <p>Loading chart data...</p>
    </div>

    <div *ngIf="error && !isLoading" class="error-state">
      <div class="error-message">
        <i class="fas fa-exclamation-triangle"></i>
        <p>{{ error }}</p>
      </div>
    </div>

    <div *ngIf="!isLoading && !error && candidates.length > 0" class="chart-wrapper">
      <canvas 
        baseChart
        [data]="barChartData"
        [options]="barChartOptions"
        [type]="barChartType"
        [width]="400"
        [height]="300">
      </canvas>
    </div>

    <div *ngIf="!isLoading && !error && candidates.length === 0" class="empty-state">
      <i class="fas fa-chart-bar"></i>
      <h4>No Data Available</h4>
      <p>No candidates found for the selected election.</p>
    </div>
  </div>
</div>
