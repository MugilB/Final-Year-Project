# Test Voter Registration Without Username/Password Fields
# Make sure the backend is running first

# Test 1: Register a new voter (no username/password fields)
curl -X POST http://localhost:8081/api/voters/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "firstName": "John",
    "lastName": "Doe",
    "address": "123 Main Street, City, State 12345",
    "phoneNumber": "+1-555-123-4567",
    "gender": "Male",
    "bloodGroup": "O+",
    "wardId": 1,
    "dob": 946684800000,
    "aadharCardLink": "https://drive.google.com/file/d/example-aadhar-link",
    "profilePictureLink": "https://drive.google.com/file/d/example-profile-link"
  }'

# Expected response:
# {
#   "message": "Voter registration submitted successfully! Your application is pending approval.",
#   "voterId": "VOTER_1759900364871",
#   "status": "PENDING_APPROVAL",
#   "isActive": false,
#   "approvalStatus": 2
# }

# Test 2: Try to login with the generated VoterID and default password
# (This will only work after admin approval)
curl -X POST http://localhost:8081/api/auth/test-voterid-login \
  -H "Content-Type: application/json" \
  -d '{
    "voterId": "VOTER_1759900364871",
    "password": "Mugpas@23"
  }'

# Expected response (if approved):
# {
#   "success": true,
#   "message": "VoterID login successful",
#   "voterId": "VOTER_1759900364871",
#   "email": "test@example.com",
#   "approvalStatus": 1,
#   "isEnabled": true,
#   "roles": ["ROLE_USER"]
# }

# Expected response (if pending):
# {
#   "success": false,
#   "error": "VoterID login failed: User account is disabled"
# }








